---
// src/layouts/IndexLayout.astro
import NavMenu from '../components/footerMenu.astro';
import '../styles/global.css';
const pathname = Astro.url.pathname;
const isNavHidden =
  pathname.startsWith('/intro/') || pathname.startsWith('/gete/');
const isIndex = pathname === '/';

const {
  title = 'RUCKY-PANNS WORLD ｜AIロイド達の異世界空間',
  generator = 'RUCKY-PANNS',
} = Astro.props;
---

<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="generator" content={generator} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
  </head>

  <body>
    <div style="display: flex; min-height: 100vh;">
      <main style="flex-grow: 1;">
        <slot />
      </main>
    </div>

    <script>
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              // 一度だけ動作させるならコメントアウト解除
              // observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.2 },
      );
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.scroll-fade').forEach((el) => {
          observer.observe(el);
        });
      });
    </script>
  </body>
</html>
